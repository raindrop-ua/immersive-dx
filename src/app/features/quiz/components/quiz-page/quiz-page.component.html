<section class="mx-auto max-w-2xl p-6">
  <div
    class="rounded-2xl border border-gray-200/60 bg-white/80 p-6 shadow-sm backdrop-blur-sm dark:border-gray-700/60 dark:bg-gray-900/70"
  >
    <!-- Header / Progress -->
    <div class="mb-5 flex items-center justify-between">
      <p class="text-sm text-gray-500 dark:text-gray-400">
        Question
        <span class="font-medium text-gray-900 dark:text-gray-100">3</span> of
        <span class="font-medium text-gray-900 dark:text-gray-100">10</span>
      </p>

      <div
        class="h-2 w-40 overflow-hidden rounded-full bg-gray-200 dark:bg-gray-700"
        aria-hidden="true"
      >
        <!-- Static progress sample -->
        <div
          class="h-full w-1/3 rounded-full bg-gray-900 transition-all dark:bg-white"
        ></div>
      </div>
    </div>

    <!-- Question -->
    <h1
      class="mb-6 text-2xl font-semibold leading-snug text-gray-900 dark:text-gray-100"
    >
      What does
      <code
        class="rounded-md bg-gray-100 px-1.5 py-0.5 text-base text-gray-800 dark:bg-gray-800 dark:text-gray-200"
        >ChangeDetectionStrategy.OnPush</code
      >
      do in Angular?
    </h1>

    <!-- Answers -->
    <fieldset class="space-y-3">
      <legend class="sr-only">Choose one answer</legend>

      <!-- Option 1 -->
      <label
        class="group flex cursor-pointer items-start gap-3 rounded-xl border border-gray-200/70 bg-white p-4 transition hover:shadow-sm focus-within:ring-2 focus-within:ring-gray-900 dark:border-gray-700/70 dark:bg-gray-900 dark:hover:shadow-none dark:focus-within:ring-white"
      >
        <input
          type="radio"
          name="answer"
          class="peer mt-1 h-5 w-5 shrink-0 appearance-none rounded-full border border-gray-300 outline-none ring-0 transition checked:border-transparent checked:bg-gray-900 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-gray-900 dark:border-gray-600 dark:checked:bg-white dark:focus-visible:outline-white"
          aria-label="Answer A"
        />
        <div class="grid">
          <span class="text-base font-medium text-gray-900 dark:text-gray-100"
            >A. Triggers change detection on every microtask</span
          >
          <span class="text-sm text-gray-500 dark:text-gray-400"
            >Aggressive detection for all async tasks</span
          >
        </div>
        <span
          class="ms-auto hidden rounded-full px-2 py-0.5 text-xs font-medium text-white peer-checked:block group-hover:block dark:text-gray-900"
          style="background: currentColor; color: white"
          >Selected</span
        >
      </label>

      <!-- Option 2 -->
      <label
        class="group flex cursor-pointer items-start gap-3 rounded-xl border border-gray-200/70 bg-white p-4 transition hover:shadow-sm focus-within:ring-2 focus-within:ring-gray-900 dark:border-gray-700/70 dark:bg-gray-900"
      >
        <input
          type="radio"
          name="answer"
          class="peer mt-1 h-5 w-5 shrink-0 appearance-none rounded-full border border-gray-300 outline-none ring-0 transition checked:border-transparent checked:bg-gray-900 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-gray-900 dark:border-gray-600 dark:checked:bg-white dark:focus-visible:outline-white"
          aria-label="Answer B"
        />
        <div class="grid">
          <span class="text-base font-medium text-gray-900 dark:text-gray-100"
            >B. Limits checks to input reference changes and explicit
            marks</span
          >
          <span class="text-sm text-gray-500 dark:text-gray-400"
            >Detects on &#64;Input ref change, events, and manual marks</span
          >
        </div>
      </label>

      <!-- Option 3 -->
      <label
        class="group flex cursor-pointer items-start gap-3 rounded-xl border border-gray-200/70 bg-white p-4 transition hover:shadow-sm focus-within:ring-2 focus-within:ring-gray-900 dark:border-gray-700/70 dark:bg-gray-900"
      >
        <input
          type="radio"
          name="answer"
          class="peer mt-1 h-5 w-5 shrink-0 appearance-none rounded-full border border-gray-300 outline-none ring-0 transition checked:border-transparent checked:bg-gray-900 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-gray-900 dark:border-gray-600 dark:checked:bg-white dark:focus-visible:outline-white"
          aria-label="Answer C"
        />
        <div class="grid">
          <span class="text-base font-medium text-gray-900 dark:text-gray-100"
            >C. Disables change detection entirely</span
          >
          <span class="text-sm text-gray-500 dark:text-gray-400"
            >Only manual rendering</span
          >
        </div>
      </label>

      <!-- Option 4 -->
      <label
        class="group flex cursor-pointer items-start gap-3 rounded-xl border border-gray-200/70 bg-white p-4 transition hover:shadow-sm focus-within:ring-2 focus-within:ring-gray-900 dark:border-gray-700/70 dark:bg-gray-900"
      >
        <input
          type="radio"
          name="answer"
          class="peer mt-1 h-5 w-5 shrink-0 appearance-none rounded-full border border-gray-300 outline-none ring-0 transition checked:border-transparent checked:bg-gray-900 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-gray-900 dark:border-gray-600 dark:checked:bg-white dark:focus-visible:outline-white"
          aria-label="Answer D"
        />
        <div class="grid">
          <span class="text-base font-medium text-gray-900 dark:text-gray-100"
            >D. Forces checks on every animation frame</span
          >
          <span class="text-sm text-gray-500 dark:text-gray-400"
            >Like a game loop</span
          >
        </div>
      </label>
    </fieldset>

    <!-- Footer -->
    <div class="mt-6 flex items-center justify-between">
      <p class="text-sm text-gray-500 dark:text-gray-400" aria-live="polite">
        Question
        <span class="font-medium text-gray-900 dark:text-gray-100">3</span> /
        <span class="font-medium text-gray-900 dark:text-gray-100">10</span>
      </p>

      <button
        type="button"
        class="inline-flex items-center gap-2 rounded-xl bg-gray-900 px-5 py-2.5 text-sm font-semibold text-white shadow-sm transition hover:opacity-90 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-gray-900 active:translate-y-px dark:bg-white dark:text-gray-900 dark:focus-visible:outline-white"
      >
        Next
        <svg
          xmlns="http://www.w3.org/2000/svg"
          class="size-4"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
          aria-hidden="true"
        >
          <path d="M5 12h14"></path>
          <path d="m12 5 7 7-7 7"></path>
        </svg>
      </button>
    </div>
  </div>

  <!-- Tiny helper text -->
  <p class="mt-3 text-center text-xs text-gray-500 dark:text-gray-400">
    Tip: add
    <code class="rounded bg-gray-100 px-1 py-0.5 dark:bg-gray-800"
      >class="dark"</code
    >
    to <code>&lt;html&gt;</code> to switch to dark theme.
  </p>
</section>

@if (quiz.currentQuestion(); as question) {
  <app-question-card
    [question]="question"
    (selectAnswer)="select(question.id, $event)"
  >
  </app-question-card>

  <div style="margin-top: 12px">
    <button (click)="next()">Next</button>
    <span style="margin-left: 8px">
      {{ quiz.currentIndex() + 1 }} / {{ quiz.total() }}
    </span>
  </div>
}
